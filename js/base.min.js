const dropdowns=document.querySelectorAll(".dropdown"),dropdownOpenSelector=".dropdown-menu.show";dropdowns.forEach(e=>{e.addEventListener("click",function(){const n=e.querySelector(".dropdown-menu.show");document.querySelectorAll(dropdownOpenSelector).forEach(e=>e.classList.remove("show")),n||e.querySelector(".dropdown-menu").classList.toggle("show")})}),document.body.addEventListener("click",function(e){const t=e.target.closest(".dropdown");t||document.querySelectorAll(dropdownOpenSelector).forEach(e=>e.classList.remove("show"))});const lsKeyColorPreference="color-preference",lsKeyColorPreferenceDarkVariant="color-preference-dark-variant",getColorPreference=()=>{let e=localStorage.getItem(lsKeyColorPreference);return e!==null?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};let colorPreference=getColorPreference();document.firstElementChild.setAttribute("data-color",colorPreference);const getColorPreferenceDarkVariant=()=>{let e=localStorage.getItem(lsKeyColorPreferenceDarkVariant);return e!==null?e:"dark"};let colorPreferenceDarkVariant=getColorPreferenceDarkVariant(),colorSchemes=document.querySelectorAll(".color-scheme");colorSchemes.forEach(e=>{e.addEventListener("click",function(){let t=e.dataset.value;t!==colorPreference&&(colorPreference=t,setColorPreference(),(t==="dark"||t==="night")&&(colorPreferenceDarkVariant=t,localStorage.setItem(lsKeyColorPreferenceDarkVariant,colorPreferenceDarkVariant)))})});const setColorPreference=()=>{localStorage.setItem(lsKeyColorPreference,colorPreference),document.firstElementChild.setAttribute("data-color",colorPreference)};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{colorPreference=e?colorPreferenceDarkVariant:"light",setColorPreference()});const body=document.body,btnArticleNavMenu=document.querySelector("#article-nav-menu-btn");btnArticleNavMenu&&btnArticleNavMenu.addEventListener("click",function(){body.classList.add("offcanvas-sidebar-on")});const btnArticleNavToc=document.querySelector("#article-nav-toc-btn");btnArticleNavToc&&btnArticleNavToc.addEventListener("click",function(){body.classList.add("offcanvas-toc-on")});const btnCloseArticleNavMenu=document.querySelector("#sidebar .btn-close");btnCloseArticleNavMenu&&btnCloseArticleNavMenu.addEventListener("click",function(){body.classList.remove("offcanvas-sidebar-on")});const btnCloseArticleNavToc=document.querySelector("#toc .btn-close");if(btnCloseArticleNavToc){btnCloseArticleNavToc.addEventListener("click",function(){body.classList.remove("offcanvas-toc-on")});const e=document.querySelectorAll("#toc ul a");e.forEach(e=>{e.addEventListener("click",function(){body.classList.remove("offcanvas-toc-on")})})}body.addEventListener("click",e=>{const t=e.target.closest("#article-nav-menu-btn"),n=e.target.closest("#sidebar");!t&&!n&&body.classList.contains("offcanvas-sidebar-on")&&body.classList.remove("offcanvas-sidebar-on");const s=e.target.closest("#article-nav-toc-btn"),o=e.target.closest("#toc");!s&&!o&&body.classList.contains("offcanvas-toc-on")&&body.classList.remove("offcanvas-toc-on")});const fromDesktop=window.matchMedia("(min-width: 1280px)"),sidebarSticky=document.querySelector("#sidebar .sticky");fromDesktop&&sidebarSticky&&window.addEventListener("scroll",function(){document.body.scrollTop>80||document.documentElement.scrollTop>80?(sidebarSticky.style.top="20px",sidebarSticky.style.bottom="65px"):(sidebarSticky.style.top=null,sidebarSticky.style.bottom=null)});const fromLargeTablet=window.matchMedia("(min-width: 1024px)"),tocSticky=document.querySelector("#toc .sticky");fromLargeTablet&&tocSticky&&window.addEventListener("scroll",function(){document.body.scrollTop>80||document.documentElement.scrollTop>80?(tocSticky.style.top="20px",tocSticky.style.bottom="65px"):(tocSticky.style.top=null,tocSticky.style.bottom=null)}),"IntersectionObserver"in window&&document.addEventListener("DOMContentLoaded",function(){const n=document.querySelectorAll("#TableOfContents a");let e=null;const t={},s=new IntersectionObserver(n=>{n.forEach(n=>{n.isIntersecting&&(e&&e.classList.remove("active"),e=t[n.target.id],e&&e.classList.add("active"))})},{rootMargin:`0% 0% -80% 0%`});n.forEach(e=>{const n=e.getAttribute("href")?e.getAttribute("href").slice(1):null;if(n){const o=document.getElementById(n);o&&(t[n]=e,s.observe(o))}})})